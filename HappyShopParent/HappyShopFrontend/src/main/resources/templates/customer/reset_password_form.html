<!doctype html>
<html lang="en" xmlns:th="http://www.thymeleaf.org"
	xmlns:sec="https://www.thymeleaf.org/thymeleaf-extras-springsecurity5">

<head th:replace="fragments :: page_head('Reset Password','none')"></head>
<body>

	<div class="container-fluid text-center">
		<div th:replace="navigation :: header_menu"></div>
		<div class="row m-3">
			<form th:action="@{/customer/reset_password}" method="post" class="border border-secondary p-3 m-5 mx-auto col-sm-4">
				<h3>Reset Password</h3>
				<div class="text-warning" th:if="${message != null}">
					<p>[[${message}]]</p>
				</div>
				<input type="hidden" name="token" th:value="${token}"/>
				<div >
					<input type="password" id="password" name="password" placeholder="Your New Password"
					 class="form-control " autofocus="autofocus" minlength = "6" maxlength="30" />
				</div>
				<div class="mt-3">
					<input type="password" name="" placeholder="Confirm Your New Password"
					 class="form-control" oninput="checkPasswordMatch(this)"
					  minlength = "6"  maxlength="30"/>
				</div>
				<div class="m-3">
					<input type="submit" class="btn btn-primary" value="Save"/>		
				</div>
			</form>
		</div>

		<div th:replace="fragments :: footer"></div>
	</div>
	<script>
		function checkPasswordMatch(confirmPassword) {
			if (confirmPassword.value != $("#password").val()) {
				confirmPassword.setCustomValidity("Passwords do not match!");
			} else {
				confirmPassword.setCustomValidity("");
			}
		}
	</script>
	<script
		src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.5/dist/umd/popper.min.js"
		integrity="sha384-Xe+8cL9oJa6tN/veChSP7q+mnSPaj5Bcu9mPX5F5xIGE0DVittaqT5lorf0EI7Vk"
		crossorigin="anonymous"></script>

	<script
		src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0-beta1/dist/js/bootstrap.min.js"
		integrity="sha384-kjU+l4N0Yf4ZOJErLsIcvOU2qSb74wXpOhqTvwVx3OElZRweTnQ6d31fXEoRD1Jy"
		crossorigin="anonymous"></script>
</body>
</html>
